<app-plantilla-fondo-simple titulo='Agregar Pedido Paso 2'>


    
    <div contenido >
        
        <!-- CONTENIDO -->
        <div fxLayout="column" class="fuse-card" style="max-width: 100%;">
            <div class="mat-card  my-24">
                <div class="h2 m-24">Datos del Comprobante</div>
                
                    <div fxLayout="row">
                        
                        <form class="p-24" fxLayout="column" fxLayoutAlign="center" fxFlex="1 0 auto" name="form">
                            
                            <div fxLayout="row">
                                
                                <mat-form-field appearance="outline" fxFlex="20%" class="ml-4 mr-4">
                                    <mat-label>Tipo</mat-label>
                                    <input disabled matInput value="{{this.dataSourceArticulos[0].tipoCbte}}" placeholder="Nombre del Lote">
                                </mat-form-field> 
                                
                                <mat-form-field appearance="outline" fxFlex="30%" class="ml-4 mr-4">
                                    <mat-label>Número</mat-label>
                                    <input disabled matInput value="{{this.dataSourceArticulos[0].numeroCbte}}" placeholder="Nombre del Lote">
                                </mat-form-field> 
                                
                                <mat-form-field appearance="outline" fxFlex="50%" class="ml-4 mr-4">
                                    <mat-label>Cliente</mat-label>
                                    <input disabled matInput value="{{this.dataSourceArticulos[0].codigoCliente}} - {{this.dataSourceArticulos[0].nombreCliente}}" placeholder="Nombre del Lote">
                                </mat-form-field>
                                
                            </div>
                        </form>                
                    </div>
            </div>
        </div>


        <div class="mat-card  my-24">
            <div fxLayout="column" class="fuse-card" style="max-width: 100%;">
                <div class="h2 m-24">Articulos pendientes de remitir</div>
                
                <ng-container >
                    <table mat-table [dataSource]="dataSourceArticulos" class="mat-elevation-z8" style="width: 100%;">
      
                        <ng-container matColumnDef="select" sticky>
                            <th mat-header-cell *matHeaderCellDef class="px-24">
                                <mat-checkbox (change)="$event ? masterToggle() : null"
                                              [checked]="selection.hasValue() && isAllSelected()"
                                              [indeterminate]="selection.hasValue() && !isAllSelected()">
                                </mat-checkbox>
                            </th>
                
                            <td mat-cell *matCellDef="let row" class="px-24">
                                <mat-checkbox (click)="$event.stopPropagation()"
                                                (change)="$event ? selection.toggle(row) : null"
                                                [checked]="selection.isSelected(row)">
                                </mat-checkbox>
                            </td>
                        </ng-container>
                      
                        <!-- Name Column -->
                        <ng-container matColumnDef="codigoArticulo">
                            <th mat-header-cell *matHeaderCellDef> Código Artìculo </th>
                            <td mat-cell *matCellDef="let element"> {{element.codigoArticulo}} </td>
                        </ng-container>
                      
                        <!-- Weight Column -->
                        <ng-container matColumnDef="nombre">
                            <th mat-header-cell *matHeaderCellDef> Nombre </th>
                            <td mat-cell *matCellDef="let element"> {{element.nombreArticulo}} </td>
                        </ng-container>
                      
                        <!-- Symbol Column -->
                        <ng-container matColumnDef="codigoDeBarras">
                            <th mat-header-cell *matHeaderCellDef> Código de Barras </th>
                            <td mat-cell *matCellDef="let element"> {{element.codigoDeBarras}} </td>
                        </ng-container>

                        <ng-container matColumnDef="mover">
                            <th mat-header-cell *matHeaderCellDef> Mover </th>
                            <td mat-cell *matCellDef="let element" class="example-button-row"> 
                                <button mat-stroked-button color="info" (click) = "mover(2)">
                                    Mover
                                </button>
                            </td>
                        </ng-container>
                      
                        <tr mat-header-row *matHeaderRowDef="displayedColumnsArticulos"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumnsArticulos;"></tr>
                    </table>
                </ng-container>
            </div>
        </div>

        <div class="mt-4 mb-24 pt-4" fxLayout="row" fxLayoutAlign="space-between">

            <button mat-raised-button color="accent">NUEVO DATO DE ENTREGA</button>
            <mat-form-field appearance="fill">
                <mat-label>Mover a</mat-label>
                <mat-select>
                  <mat-option value="option">Option 1</mat-option>
                  <mat-option value="option">Option 2</mat-option>
                  <mat-option value="option">Option 3</mat-option>
                </mat-select>
              </mat-form-field>
        </div>

        <div *ngFor="let item of this.dataSourceDatosDeEntrega" fxLayout="column" class="fuse-card" style="max-width: 100%;">
            <div class="mat-card  my-24">
                <div class="h2 m-24"> {{item.id}} - {{item.direccion}} </div>
                
                <ng-container >
                    <table mat-table [dataSource]="item.listaPedidoDetalle" class="mat-elevation-z8" style="width: 100%;">
                      
                        <!-- Name Column -->
                        <ng-container matColumnDef="codigoArticulo">
                            <th mat-header-cell *matHeaderCellDef> Código Artìculo </th>
                            <td mat-cell *matCellDef="let element"> {{element.codigoArticulo}} </td>
                        </ng-container>
                      
                        <!-- Weight Column -->
                        <ng-container matColumnDef="nombre">
                            <th mat-header-cell *matHeaderCellDef> Nombre </th>
                            <td mat-cell *matCellDef="let element"> {{element.nombreArticulo}} </td>
                        </ng-container>
                      
                        <!-- Symbol Column -->
                        <ng-container matColumnDef="codigoDeBarras">
                            <th mat-header-cell *matHeaderCellDef> Código de Barras </th>
                            <td mat-cell *matCellDef="let element"> {{element.codigoDeBarras}} </td>
                        </ng-container>

                        <ng-container matColumnDef="mover">
                            <th mat-header-cell *matHeaderCellDef> Mover </th>
                            <td mat-cell *matCellDef="let element" class="example-button-row"> 
                                <button mat-stroked-button color="info" (click) = "mover(1)">
                                    Mover
                                </button>
                            </td>
                        </ng-container>
                      
                        <tr mat-header-row *matHeaderRowDef="displayedColumnsPedidoDetalle"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumnsPedidoDetalle;"></tr>
                    </table>
                </ng-container>
            </div>
        </div>

        <div class="mt-4 mb-24 pt-4" fxLayout="row" fxLayoutAlign="space-between">
    
            <button mat-raised-button color="accent" >Procesar</button>
            <button mat-stroked-button class="mr-5px">Cancelar</button>
        </div>
    </div>
    
</app-plantilla-fondo-simple>