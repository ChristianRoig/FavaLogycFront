<div id="dashboard-project" class="page-layout simple right-sidebar" fxLayout="row">

    <!-- CENTER -->
    <div class="center" fusePerfectScrollbar>

        <!-- HEADER -->
        <div class=" header accent p-24 pb-0" fxLayout="column" fxLayoutAlign="space-between">

            <div fxLayout="row " fxLayoutAlign="space-between start ">

                <span class="mat-display-1 my-0 my-sm-24 welcome-message" [@animate]="{value: '*',params:{x: '50px'}} ">Bienvenido, Pablo!</span>

                <button mat-icon-button class="sidebar-toggle mr-8" fxHide.gt-md (click)="toggleSidebar( 'project-dashboard-right-sidebar-1')">
                    <mat-icon>menu</mat-icon>
                </button>
            </div>

            <div fxLayout="row ">

                <div class="selected-project" *ngIf="this.projects">{{selectedProject.name}}</div>

                <button mat-icon-button class="project-selector" [matMenuTriggerFor]="projectsMenu" aria-label="Select project">
                    <mat-icon>more_horiz</mat-icon>
                </button>

                <mat-menu #projectsMenu="matMenu">
                    <button mat-menu-item *ngFor="let project of projects" (click)="selectedProject = project">
                        <span>{{project.name}}</span>
                    </button>
                </mat-menu>
            </div>
        </div>
        <!-- / HEADER -->

        <!-- CONTENT -->
        <div class="content">

            <!-- <mat-tab-group dynamicHeight> -->

            <!-- <mat-tab label="Inicio"> -->

            <div class="widget-group p-12" fxLayout="row wrap" fxFlex="100" *fuseIfOnDom [@animateStagger]="{value: '50'}">

                <!-- WIDGET 1 -->
                <fuse-widget [@animate]="{value: '*',params:{y: '100%'}}" class="widget" fxLayout="column" fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-md="25">

                    <!-- Front -->
                    <div class="fuse-widget-front ">
                        <div class="pl-16 pr-8 py-16 h-52" fxLayout="row" fxLayoutAlign="space-between center">
                            <mat-form-field appearance="outline" fxFlex="20" class="ml-4 selector">
                                <mat-label>A remitir</mat-label>
                                <mat-select class="simplified font-size-16" aria-label="Change range">
                                    <mat-option *ngFor="let estado of estados" [value]="estado.valor" (click)="setValor(estado.valor)">
                                        {{ estado.texto }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                            <!-- <button mat-icon-button fuseWidgetToggle aria-label="more">   !!! boton deshabilitado hasta que se defina que va atras
                                        <mat-icon>more_vert</mat-icon>
                            </button> -->
                        </div>

                        <div class="pt-8 pb-32" fxLayout="column" fxLayoutAlign="center center">
                            <div class="light-blue-fg font-size-72 line-height-72" *ngIf="this.resumen">
                                <!--  {{widgets[0].widget1.data.count[widgets[0].widget1.currentRange]}} -->
                                {{resumen[numEstado].count.articulos}}
                            </div>
                            <div class="h3 secondary-text font-weight-500">
                                ARTICULOS
                            </div>
                        </div>

                        <div class="p-16 border-top" fxLayout="row" fxLayoutAlign="start center">
                            <!-- despachados resumen[0].estado | {{widgets[0].widget1.data.extra.label}}:-->
                            <span class="h4 secondary-text text-truncate">
                                Despachados:
                                <!-- {{widgets[0].widget1.data.extra.label}}: -->
                            </span>
                            <!-- despachados {{widgets[0].widget1.data.extra.count[widgets[0].widget1.currentRange]}}-->
                            <span class="h4 ml-8" *ngIf="this.resumen">
                                {{resumen[2].count.articulos}}
                                <!-- {{widgets[0].widget1.data.extra.count[widgets[0].widget1.currentRange]}} -->
                            </span>
                            <!-- {{widgets[0].widget1.data.extra.label2}}: -->
                            <!-- <span class="h4 secondary-text text-truncate">
                                , Ayer:
                            </span> -->
                            <!-- {{widgets[0].widget1.data.extra.count2[widgets[0].widget1.currentRange]}} -->
                            <!-- <span class="h4 ml-8">
                                22
                            </span> -->
                        </div>
                    </div>
                    <!-- / Front -->

                    <!-- Back -->
                    <!-- <div class="fuse-widget-back p-16 pt-32">
                        <button mat-icon-button fuseWidgetToggle class="fuse-widget-flip-button" aria-label="Flip widget">
                                    <mat-icon class="s-16">close</mat-icon>
                                </button>

                        <div >
                            Informacion extra
                        </div>
                    </div> -->
                    <!-- / Back -->

                </fuse-widget>
                <!-- / WIDGET 1 -->

                <!-- WIDGET 2 -->
                <fuse-widget [@animate]="{value: '*',params:{y: '100%'}}" class="widget" fxLayout="column" fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-md="25">

                    <!-- Front -->
                    <div class="fuse-widget-front">
                        <div class="pl-16 pr-8 py-16 h-52" fxLayout="row " fxLayoutAlign="space-between center">
                            <div class="h3">En</div>

                            <!-- <button mat-icon-button fuseWidgetToggle class="fuse-widget-flip-button" aria-label="more">
                                        <mat-icon>more_vert</mat-icon>
                                    </button> -->
                        </div>

                        <div class="pt-8 pb-32" fxLayout="column" fxLayoutAlign="center center">
                            <div class="red-fg font-size-72 line-height-72" *ngIf="this.resumen">
                                {{resumen[numEstado].count.pedidos}}
                            </div>
                            <div class="h3 secondary-text font-weight-500">
                                PEDIDOS
                                <!-- {{resumen[numEstado].count.pedido}} -->
                                <!-- {{widgets[1].widget2.data.label}} -->
                            </div>
                        </div>

                        <div class="p-16 border-top" fxLayout="row" fxLayoutAlign="start center">
                            <span class="h4 secondary-text text-truncate">
                                Despachados:
                            </span>
                            <span class="h4 ml-8" *ngIf="this.resumen">
                                {{resumen[2].count.pedidos}}
                                <!-- {{widgets[1].widget2.data.extra.count}} -->
                            </span>
                            <!-- <span class="h4 secondary-text text-truncate">
                                texto
                            </span> -->
                            <!-- <span class="h4 ml-8">
                                datos
                            </span> -->
                        </div>
                    </div>
                    <!-- / Front -->

                    <!-- Back -->
                    <!-- <div class="fuse-widget-back p-16 pt-32">
                        <button mat-icon-button fuseWidgetToggle class="fuse-widget-flip-button" aria-label="Flip widget">
                                    <mat-icon class="s-16">close</mat-icon>
                                </button>

                        <div>
                            Info extra
                        </div>
                    </div> -->
                    <!-- / Back -->

                </fuse-widget>
                <!-- / WIDGET 2 -->

                <!-- WIDGET 3 -->
                <fuse-widget [@animate]="{value: '*',params:{y: '100%'}}" class="widget" fxLayout="column" fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-md="25">

                    <!-- Front -->
                    <div class="fuse-widget-front">
                        <div class="pl-16 pr-8 py-16 h-52" fxLayout="row" fxLayoutAlign="space-between center">
                            <div class="h3">
                                De
                            </div>

                            <!-- <button mat-icon-button fuseWidgetToggle class="fuse-widget-flip-button" aria-label="more">
                                <mat-icon>more_vert</mat-icon>
                            </button> -->
                        </div>

                        <div class="pt-8 pb-32" fxLayout="column" fxLayoutAlign="center center">
                            <div class="orange-fg font-size-72 line-height-72" *ngIf="this.resumen">
                                {{resumen[numEstado].count.comprobantes}}
                            </div>
                            <div class="h3 secondary-text font-weight-500">
                                COMPROBANTES
                            </div>
                        </div>

                        <div class="p-16 border-top" fxLayout="row" fxLayoutAlign="start center">
                            <span class="h4 secondary-text text-truncate">
                                Despachados:
                            </span>
                            <span class="h4 ml-8" *ngIf="this.resumen">
                                {{resumen[2].count.comprobantes}}
                            </span>
                            <!-- <span class="h4 secondary-text text-truncate">
                                texto
                            </span>
                            <span class="h4 ml-8">
                                data
                            </span> -->
                        </div>
                    </div>
                    <!-- / Front -->

                    <!-- Back -->
                    <!-- <div class="fuse-widget-back p-16 pt-32">
                        <button mat-icon-button fuseWidgetToggle class="fuse-widget-flip-button" aria-label="Flip widget">
                                    <mat-icon class="s-16">close</mat-icon>
                                </button>

                        <div >
                            {{widgets[2].widget3.detail}}
                        </div>
                    </div> -->
                    <!-- / Back -->

                </fuse-widget>
                <!-- / WIDGET 3 -->

                <!-- WIDGET 4 -->
                <fuse-widget [@animate]="{value: '*',params:{y: '100%'}}" class="widget" fxLayout="column" fxFlex="100" fxFlex.gt-xs="50" fxFlex.gt-md="25">

                    <!-- Front -->
                    <div class="fuse-widget-front">
                        <div class="pl-16 pr-8 py-16 h-52" fxLayout="row" fxLayoutAlign="space-between center">
                            <div class="h3">Para</div>

                            <!-- <button mat-icon-button fuseWidgetToggle class="fuse-widget-flip-button" aria-label="more">
                                <mat-icon>more_vert</mat-icon>
                            </button> -->
                        </div>

                        <div class="pt-8 pb-32" fxLayout="column" fxLayoutAlign="center center">
                            <div class="blue-grey-fg font-size-72 line-height-72" *ngIf="this.resumen">
                                {{resumen[numEstado].count.localidades}}
                            </div>
                            <div class="h3 secondary-text font-weight-500">
                                LOCALIDADES
                            </div>
                        </div>

                        <div class="p-16 border-top" fxLayout="row" fxLayoutAlign="start center">
                            <span class="h4 secondary-text text-truncate">
                                <!-- {{widgets[3].widget4.data.extra.label}}: -->
                                A definir que va aca
                            </span>
                            <span class="h4 ml-8">
                                <!-- {{widgets[3].widget4.data.extra.count}} -->
                            </span>
                        </div>
                    </div>
                    <!-- / Front -->

                    <!-- Back -->
                    <!-- <div class="fuse-widget-back p-16 pt-32">
                        <button mat-icon-button fuseWidgetToggle class="fuse-widget-flip-button" aria-label="Flip widget">
                                    <mat-icon class="s-16">close</mat-icon>
                                </button>

                        <div>
                            {{widgets[3].widget4.detail}}
                        </div>
                    </div> -->
                    <!-- / Back -->

                </fuse-widget>
                <!-- / WIDGET 4 -->

                <!-- WIDGET 5 -->
                <fuse-widget [@animate]="{value: '*',params:{y: '100%'}}" fxLayout="row" fxFlex="100" class="widget widget5">

                    <!-- Front -->
                    <div class="fuse-widget-front">

                        <div class="px-16 border-bottom" fxLayout="row wrap" fxLayoutAlign="space-between center">

                            <div fxFlex class="py-16 h3">
                                <!-- {{widgets[4].widget5.title}} -->
                                Envios
                            </div>

                            <div fxFlex="0 1 auto" class="py-16" *ngIf="this.widgets" fxLayout="row">
                                <button mat-button class="px-16" *ngFor="let range of widgets[4].widget5.ranges | keys" (click)="widget5.currentRange= range.key" [ngClass]="{ 'accent' : widget5.currentRange== range.key} ">
                                    {{range.value}}
                                </button>
                            </div>
                        </div>

                        <div fxLayout="row wrap" fxLayoutAlign="start start">

                            <div class="h-420 my-16" fxLayout="row" fxFlex="100" fxFlex.gt-sm="50">
                                <ngx-charts-bar-vertical-stacked *fuseIfOnDom [scheme]="widget5.scheme" [results]="this.widgets[4].widget5.mainChart[this.widget5.currentRange]" [gradient]="widget5.gradient " [xAxis]="widget5.xAxis" [yAxis]="widget5.yAxis " [legend]="widget5.legend "
                                    [showXAxisLabel]="widget5.showXAxisLabel " [showYAxisLabel]="widget5.showYAxisLabel " [xAxisLabel]="widget5.xAxisLabel " [yAxisLabel]="widget5.yAxisLabel " (select)="widget5.onSelect($event) ">
                                </ngx-charts-bar-vertical-stacked>
                            </div>

                            <div class="my-16" fxFlex="100" fxLayout="row wrap" *ngIf="this.widgets" fxFlex.gt-sm="50">
                                <!-- *ngFor="let widget of widgets.widget5.supporting | keys " -->
                                <div fxLayout="column" *ngFor="let widget of widgets[4].widget5.supporting | keys" fxFlex="100" fxFlex.gt-sm="50" fxLayoutAlign="center" class="mb-24">

                                    <div class="px-24">
                                        <div class="h4 secondary-text"> {{widget.value.label}} </div>
                                        <div class="mat-display-1 m-0"> {{widget.value.count[widget5.currentRange]}} </div>
                                    </div>

                                    <div class="h-64">
                                        <ngx-charts-area-chart *fuseIfOnDom [results]="widget.value.chart[widget5.currentRange]" [scheme]="widget5.supporting.scheme" [gradient]="widget5.supporting.gradient" [xAxis]="widget5.supporting.xAxis" [yAxis]="widget5.supporting.yAxis" [legend]="widget5.supporting.legend"
                                            [showXAxisLabel]="widget5.supporting.showXAxisLabel" [showYAxisLabel]="widget5.supporting.showYAxisLabel" [xAxisLabel]="widget5.supporting.xAxisLabel" [yAxisLabel]="widget5.supporting.yAxisLabel" [curve]="widget5.supporting.curve">
                                        </ngx-charts-area-chart>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- / Front -->

                </fuse-widget>
                <!-- / WIDGET 5 -->


            </div>
            <!-- / WIDGET GROUP -->

            <!-- </mat-tab> -->


            <!-- </mat-tab-group> -->

        </div>
        <!-- / CONTENT -->

    </div>
    <!-- / CENTER -->

</div>